**Лабораторная работа. Просмотр таблицы MAC-адресов коммутатора**

**Лабораторная работа. Просмотр таблицы MAC-адресов коммутатора** 

# **Топология**
![There are two switches and two PCs in the topology. PC-A is connected to S1 via F0/6. S1 F0/1 is connected to S2 F0/1. PC-B is connected to S2 via F/18.](0201.png)
# **Таблица адресации**

|**Устройство**|**Интерфейс**|**IP-адрес**|**Маска подсети**|
| :-: | :-: | :-: | :-: |
|S1|VLAN 1|192\.168.1.11|255\.255.255.0|
|S2|VLAN 1|192\.168.1.12|255\.255.255.0|
|PC-A|NIC|192\.168.1.1|255\.255.255.0|
|PC-B|NIC|192\.168.1.2|255\.255.255.0|
# **Цели**
**Часть 1. Создание и настройка сети**

**Часть 2. Изучение таблицы МАС-адресов коммутатора**
# **Инструкции**
1. ## **Создание и настройка сети**
   1. ### **Подключили сеть в соответствии с топологией.**
   1. ### **Настроили узлы ПК.**
   1. ### **Выполнили инициализацию и перезагрузку коммутаторов.**
   1. ### **Настроили базовые параметры каждого коммутатора.**
      *Открыли окно конфигурации*

      1. Настроили имена устройств в соответствии с топологией.
      1. Настроили IP-адреса, как указано в таблице адресации.
      1. Назначили **cisco** в качестве пароля консоли и VTY.
      1. Назначили **class** в качестве пароля доступа к привилегированному режиму EXEC.

*Закройте окно настройки.*
1. ## **Изучение таблицы МАС-адресов коммутатора**
   1. ### **МАС-адреса сетевых устройств.**
      1. Ввели команду **ipconfig /all** для отображения физических адреса адаптера Ethernet на PC.

         MAC-адрес компьютера PC-A: 0002.17AC.D288

         MAC-адрес компьютера PC-B: 0060.47C4.0BA6

*Закройте окно командной строки.*

1. Подключились к коммутаторам S1 и S2 через консоль и ввели команду **show interface F0/1** на каждом коммутаторе.

*Открыли окно конфигурации*
#### Вопросы:
Назовите адреса оборудования во второй строке выходных данных команды (или зашитый адрес — bia).

МАС-адрес коммутатора S1 Fast Ethernet 0/1: bia 0001.9768.a201

МАС-адрес коммутатора S2 Fast Ethernet 0/1: bia 0009.7c3d.d601

*Закройте окно настройки.*
1. ### **Просмотр таблицы МАС-адресов коммутатора.**
   1. Подключились к коммутатору S2 через консоль и войдите в привилегированный режим EXEC.

*Открыли окно конфигурации*

1. В привилегированном режиме EXEC ввели команду **show mac address-table**.

   S2# **show mac address-table**

   `          `Mac Address Table

   -------------------------------------------

   Vlan    Mac Address       Type        Ports

   ----    -----------       --------    -----

   `   `1    0001.9768.a201    DYNAMIC     Fa0/1

1. ### **Очистили таблицу МАС-адресов коммутатора S2 и снова отобразите таблицу МАС-адресов.**
   1. В привилегированном режиме EXEC ввели команду **clear mac address-table dynamic**.

      S2# **clear mac address-table dynamic**

   1. Снова быстро ввели команду **show mac address-table**.

      Mac Address Table

      -------------------------------------------

      Vlan Mac Address Type Ports

      ---- ----------- -------- -----

   1. Вопросы:

      Указаны ли в таблице МАС-адресов адреса для VLAN 1?  - **нет.**

      Указаны ли другие МАС-адреса? – **нет.**

      Через 10 секунд ввели команду **show mac address-table** и нажал клавишу ввода. Появились ли в таблице МАС-адресов новые адреса? – **да,** Fa0/1 0001.9768.a201

*е* 
1. ### **С компьютера PC-B отправьте эхо-запросы устройствам в сети и просмотрите таблицу МАС-адресов коммутатора.**
   1. На компьютере PC-B Открыли командную строку и еще раз ввели команду **arp -a**.

      C:\>arp -a

      No ARP Entries Found

*Открыли командную строку.*
#### Вопрос:
Не считая адресов многоадресной и широковещательной рассылки, сколько пар IP- и МАС-адресов устройств было получено через протокол ARP?

**Записей в таблице т.к. эхо запросов не отправлялось**

1. Из командной строки PC-B отправьте эхо-запросы на компьютер PC-A, а также коммутаторы S1 и S2.

   C:\>arp -a

   Internet Address Physical Address Type

   192\.168.1.1 0002.17ac.d288 dynamic

   192\.168.1.11 000d.bdc1.58aa dynamic

   192\.168.1.12 0050.0f2c.e2d3 dynamic
   ####
   #### Вопрос:
   От всех ли устройств получены ответы?  **- Да.**

*Закройте командную строку.*

1. Подключившись через консоль к коммутатору S2, ввели команду **show mac address-table**.

*Открыли окно* 

`	`Mac Address Table

\-------------------------------------------

Vlan Mac Address Type Ports

\---- ----------- -------- -----

1 0001.9768.a201 DYNAMIC Fa0/1

1 0002.17ac.d288 DYNAMIC Fa0/1

1 000d.bdc1.58aa DYNAMIC Fa0/1

1 0060.47c4.0ba6 DYNAMIC Fa0/18
#### Вопрос:
Добавил ли коммутатор в таблицу МАС-адресов дополнительные МАС-адреса?

Да, mac  адреса pc-b и портов s1 ?

На компьютере PC-B Открыли командную строку и еще раз ввели команду **arp -a**.
#### Вопрос:
C:\>arp -a

Internet Address Physical Address Type

192\.168.1.1 0002.17ac.d288 dynamic

192\.168.1.11 000d.bdc1.58aa dynamic

192\.168.1.12 0050.0f2c.e2d3 dynamic

Появились ли в ARP-кэше компьютера PC-B дополнительные записи для всех сетевых устройств, которым были отправлены эхо-запросы?

**Записи не изменились, т.к. не изменялась конфигурация сети и устройств**

*Закройте командную строку.*
# **Вопрос для повторения**
В сетях Ethernet данные передаются на устройства по соответствующим МАС-адресам. Для этого коммутаторы и компьютеры динамически создают ARP-кэш и таблицы МАС-адресов. Если компьютеров в сети немного, эта процедура выглядит достаточно простой. Какие сложности могут возникнуть в крупных сетях?

**В крупных сетях большое количество ARP запросов снижает пропускную способность сети для основного трафика. Рекомендуется ограничивать количество хостов в одной сети и разделять крупные сети на подсети, используя маршрутизаторы.**
© ã 2013 г. - гггг Корпорация Cisco и/или ее дочерние компании. Все права защищены. Открытая информация Cisco 	страница 11** 11**	www.netacad.com
